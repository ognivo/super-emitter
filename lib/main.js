(function(){define("Emitter",[],function(){var e;return e=function(){function e(){this.handlers={}}return e.prototype.off=function(e,t){var n,r,i;if(!e){i=this.handlers;for(e in i)n=i[e],n.length=0}else if(!t)this.handlers[e].length=0;else{n=this.handlers[e],r=n.length;while(--r>=0)n[r]===t&&n.splice(r,1)}},e.prototype.on=function(e,t){var n;n=this.handlers,n[e]=n[e]||[],n[e].push(t)},e.prototype.emit=function(e,t){var n,r,i,s;n=this.handlers[e];if(!n)return;i=-1,s=null;while(++i<(r=n.length)){s=n[i].apply(this,t);if(typeof s=="boolean"&&!s)return}},e}()})}).call(this),function(){define("functions",[],function(){var e,t,n,r,i,s,o,u,a,f,l,c,h;return e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){var n,r,i;for(r=0,i=t.length;r<i;r++){n=t[r];if(e===n)return!0}return!1},n=function(e,t){return setTimeout(t,e)},r=function(e,t){var n,r,i,s,o;n=0,r=1;for(s=0,o=t.length;s<o;s++){i=t[s];if(i[n]===e)return i[r]}},i=function(e,t){var n,r,i,s;for(n=i=0,s=e.length;i<s;n=++i){r=e[n];if(r===t)return n}return-1},s=function(e,t){var n,r,i,s;s=[];for(r=0,i=t.length;r<i;r++)n=t[r],s.push(n[e]());return s},o=function(e,t){var n,r,i,s;s=[];for(r=0,i=t.length;r<i;r++)n=t[r],s.push(e(n));return s},u=function(e){return function(){var t,n,r;for(n=0,r=e.length;n<r;n++)t=e[n],t.apply(this,arguments)}},a=function(){var e,t;return e=arguments[0],t=Array.prototype.slice.call(arguments,1),function(){return e.apply(this,t.concat(Array.prototype.slice.call(arguments)))}},f=function(e,t){var n,r,i,s;s=[];for(r=0,i=e.length;r<i;r++)n=e[r],s.push(n[t]);return s},l=function(e,t){return e.splice(t,1)},c=function(e,n){var r,i,s,o;i=e.slice();for(s=0,o=n.length;s<o;s++)r=n[s],t(r,e)||i.push(r);return i},h=function(e){var t,n,r,i,s;n=Object.keys(e),s=[];for(r=0,i=n.length;r<i;r++)t=n[r],s.push(e[t]);return s},{bind:e,contains:t,delay:n,find_by_first_value_as_key:r,indexOf:i,invoke:s,map:o,multicall:u,partial:a,pluck:f,remove_at:l,union:c,values:h}})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("SuperEmitter",["./Emitter","./functions"],function(e,n){var r,i,s,o,u,a,f,l,c,h,p,d;return i=n.bind,s=n.contains,o=n.find_by_first_value_as_key,f=n.map,c=n.partial,h=n.remove_at,d=n.values,a=function(e,t){return new Error("ListeningError: action "+e+" is undefined for "+t)},u=function(e,t,n){var r,s,o,u,f,l,c,h,p,d;if(!e)return;u=n.__bounds__;for(l=0,h=t.length;l<h;l++){d=t[l],f=d[0],s=d[1];for(c=0,p=s.length;c<p;c++){r=s[c],o=typeof r=="function"&&r||u[r]||(u[r]=i(n[r],n));if(typeof r=="string"&&!n[r])throw a;e.on(f,o)}}},l=function(e,t,n){var r,i,s;return r=e.push,i=e.splice,s=e.unshift,e.splice=function(){var r;r=arguments.length;while(--r>1)u(arguments[r],t,n);return old_splice.apply(e,arguments)},e.push=function(){var r,i,s;for(i=0,s=arguments.length;i<s;i++)r=arguments[i],u(r,t,n);return old_push.apply(e,arguments)},e.unshift=function(){var r,i,s;for(i=0,s=arguments.length;i<s;i++)r=arguments[i],u(r,t,n);return old_unshift.apply(e,arguments)},0},p=function(e,t){var n,r,i,s,o;return n=t[0],r=t[1],"string"!=typeof n?[n,r]:n.indexOf(":")===-1?[e[n],r]:(o=n.split(":"),s=o[0],i=o[1],[e[s].find(i),r])},r=function(e){function n(){n.__super__.constructor.call(this),this.__bounds__={},this.self=this}return t(n,e),n.prototype.bind_events=function(){var e,t,n,r,i,s,o,a,h;a=f(c(p,this),this.event_table);for(r=0,s=a.length;r<s;r++){h=a[r],e=h[0],t=h[1];if(Array.isArray(e)){l(e,t,this);if(e.length)for(i=0,o=e.length;i<o;i++)n=e[i],u(n,t,this)}else u(e,t,this)}return 0},n.prototype.listen=function(e,t){return u(t,o(this.event_table,e),this),t},n.prototype.remove_listener=function(e){var t,n,r,i,o,u,a;o=d(e.__bounds__),a=this.handlers;for(t in a){r=a[t];for(i=u=r.length-1;u>=0;i=u+=-1)n=r[i],s(n,o)&&h(r,i)}},n}(e),r.activate_event_table=function(e){},r})}.call(this);